017-10-30 17:28:09,670 [INFO] -- 0 notifications
2017-10-30 17:28:09,673 [INFO] -- 2 invoices
2017-10-30 17:28:09,674 [INFO] -- 1 claims
2017-10-30 17:28:11,640 [DEBUG] -- Канал ETRAN_NSI_DOC. <soapenv:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sys="urn:SysEtranInt"><soapenv:Header/><soapenv:Body><sys:GetBlock soapenv:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"><Login xsi:type="xsd:string">тест_нииас</Login><Password xsi:type="xsd:string">etran@111</Password><Text xsi:type="xsd:string"><getEtranDocuments><fromDate value="30.10.2017 17:18:07"/><toDate value="30.10.2017 17:20:07"/></getEtranDocuments></Text></sys:GetBlock></soapenv:Body></soapenv:Envelope>
2017-10-30 17:28:12,110 [INFO] -- Начало инициализации SPV3929_CAR_DISLOCATION_DATA
2017-10-30 17:28:12,110 [INFO] -- Изменилось состояние SPV3929_CAR_DISLOCATION_DATA на RUNNING
2017-10-30 17:28:12,111 [INFO] -- Конец инициализации SPV3929_CAR_DISLOCATION_DATA
2017-10-30 17:28:12,217 [ERROR] -- Ошибка в методе OntM_ASOUP_register_requests.update. [v.4.0.M9 Ð°Ð¿Ñ 22 2016 17:41:28] Remote error. URL - http://10.247.2.236:9086/cayenne-service?binaryId=400740016011&dbNode=. org.apache.cayenne.remote.hessian.HessianConnection.doSendMessage(HessianConnection.java:182)
ru.programpark.orm.cayenne.rop.OrmHessianConnection.doSendMessage(OrmHessianConnection.java:49)
org.apache.cayenne.remote.BaseConnection.sendMessage(BaseConnection.java:73)
org.apache.cayenne.remote.ClientChannel.send(ClientChannel.java:326)
org.apache.cayenne.remote.ClientChannel.onSync(ClientChannel.java:220)
org.apache.cayenne.CayenneContext.doCommitChanges(CayenneContext.java:183)
org.apache.cayenne.CayenneContext.commitChanges(CayenneContext.java:140)
sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:606)
org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(JavaMethod.java:440)
org.jruby.javasupport.JavaMethod.invokeDirect(JavaMethod.java:304)
org.jruby.java.invokers.InstanceMethodInvoker.call(InstanceMethodInvoker.java:52)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:134)
rubyjit.User::ORM$$commit_changes_244DB79550E94B2E2732E4A96BE3FEE90F5FCC61799593698.__file__(file:/opt/ruby_projects/cfto_cd/rvec/server/rvec_server/modules/ru-programpark-rvec-orm.jar!/cayenne/orm.rb:485)
rubyjit.User::ORM$$commit_changes_244DB79550E94B2E2732E4A96BE3FEE90F5FCC61799593698.__file__(file:/opt/ruby_projects/cfto_cd/rvec/server/rvec_server/modules/ru-programpark-rvec-orm.jar!/cayenne/orm.rb)
org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:141)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:134)
rubyjit.Module$$update_C71869D144566C79BE186ACB6B1B086343A2818E799593698.block_0$RUBY$__file__(User::OntM_ASOUP_register_requests:342)
rubyjit$Module$$update_C71869D144566C79BE186ACB6B1B086343A2818E799593698$block_0$RUBY$__file__.call(rubyjit$Module$$update_C71869D144566C79BE186ACB6B1B086343A2818E799593698$block_0$RUBY$__file__)
org.jruby.runtime.CompiledBlock19.yieldSpecificInternal(CompiledBlock19.java:117)
org.jruby.runtime.CompiledBlock19.yieldSpecific(CompiledBlock19.java:102)
org.jruby.runtime.Block.yieldSpecific(Block.java:129)
rubyjit.Module$$crud_F6C895BDC10198B2AD4132975DDE00A49F84B916799593698.chained_1_rescue_1$RUBY$SYNTHETIC__file__(User::OntM_ASOUP_register_requests:412)
rubyjit.Module$$crud_F6C895BDC10198B2AD4132975DDE00A49F84B916799593698.chained_0_ensure_1$RUBY$__ensure__(User::OntM_ASOUP_register_requests)
rubyjit.Module$$crud_F6C895BDC10198B2AD4132975DDE00A49F84B916799593698.__file__(User::OntM_ASOUP_register_requests:411)
rubyjit.Module$$crud_F6C895BDC10198B2AD4132975DDE00A49F84B916799593698.__file__(User::OntM_ASOUP_register_requests)
org.jruby.ast.executable.AbstractScript.__file__(AbstractScript.java:50)
org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:281)
org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:245)
org.jruby.runtime.callsite.CachingCallSite.callIter(CachingCallSite.java:256)
rubyjit.Module$$update_C71869D144566C79BE186ACB6B1B086343A2818E799593698.__file__(User::OntM_ASOUP_register_requests:331)
rubyjit.Module$$update_C71869D144566C79BE186ACB6B1B086343A2818E799593698.__file__(User::OntM_ASOUP_register_requests)
org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:221)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:202)
rubyjit.User::RequestManagementModule$$set_data_result_A6237A22227C359E7C369908002520FABADC80A2799593698.__file__(User::RequestManagementModule:51)
rubyjit.User::RequestManagementModule$$set_data_result_A6237A22227C359E7C369908002520FABADC80A2799593698.__file__(User::RequestManagementModule)
org.jruby.ast.executable.AbstractScript.__file__(AbstractScript.java:46)
org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:221)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:202)
rubyjit.User::SPV3929CarDislocationDataChannelModule$$afterRequest_FCC87602AE32D96019D8813D36906C9B8F55610E799593698.__file__(User::SPV3929CarDislocationDataChannelModule:34)
rubyjit.User::SPV3929CarDislocationDataChannelModule$$afterRequest_FCC87602AE32D96019D8813D36906C9B8F55610E799593698.__file__(User::SPV3929CarDislocationDataChannelModule)
rubyjit.User::SPV3929CarDislocationDataChannelModule$$afterRequest_FCC87602AE32D96019D8813D36906C9B8F55610E799593698.__file__(User::SPV3929CarDislocationDataChannelModule)
org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:101)
User$$SPV3929CarDislocationDataChannel_1064333431.afterRequest(User$$SPV3929CarDislocationDataChannel_1064333431.gen:13)
ru.programpark.poller.db.PreparingRequestProvider.beforeResults(PreparingRequestProvider.java:25)
ru.programpark.poller.db.AbstractDBPoller.loadCallableStatementData(AbstractDBPoller.java:176)
ru.programpark.poller.db.AbstractDBPoller.loadData(AbstractDBPoller.java:55)
ru.programpark.poller.db.BrakedDBPoller.loadRegularData(BrakedDBPoller.java:56)
ru.programpark.poller.db.BaseDBPoller.request(BaseDBPoller.java:114)
ru.programpark.poller.BaseTickProvider.loop(BaseTickProvider.java:79)
ru.programpark.poller.RubyTickProvider.loop(RubyTickProvider.java:43)
ru.programpark.poller.AbstractPoller.loop(AbstractPoller.java:17)
sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:606)
org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(JavaMethod.java:440)
org.jruby.javasupport.JavaMethod.invokeDirect(JavaMethod.java:304)
org.jruby.java.invokers.InstanceMethodInvoker.call(InstanceMethodInvoker.java:52)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:134)
rubyjit.PollerApplication$$connect_channel_6C3F0169A3B211CFE28C1DCB38181E62EC39F929799593698.block_0$RUBY$__file__(file:/opt/ruby_projects/cfto_cd/rvec/server/rvec_server/modules/ru-programpark-rvec-poller.jar!/plugins/poller/poller.rb:262)
rubyjit$PollerApplication$$connect_channel_6C3F0169A3B211CFE28C1DCB38181E62EC39F929799593698$block_0$RUBY$__file__.call(rubyjit$PollerApplication$$connect_channel_6C3F0169A3B211CFE28C1DCB38181E62EC39F929799593698$block_0$RUBY$__file__)
org.jruby.runtime.CompiledBlock19.yield(CompiledBlock19.java:159)
org.jruby.runtime.CompiledBlock19.call(CompiledBlock19.java:87)
org.jruby.runtime.Block.call(Block.java:101)
org.jruby.RubyProc.call(RubyProc.java:274)
org.jruby.RubyProc.call19(RubyProc.java:255)
org.jruby.RubyProc$INVOKER$i$0$0$call19.call(RubyProc$INVOKER$i$0$0$call19.gen)
org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:201)
org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:197)
org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:134)
rubyjit.Proc$$to_lambda_C8087DD3DC64F6B28CB4532D1E340389A04240B6799593698.block_0$RUBY$__file__(file:/opt/jruby/lib/jruby.jar!/jruby/java/core_ext/proc.rb:10)
rubyjit$Proc$$to_lambda_C8087DD3DC64F6B28CB4532D1E340389A04240B6799593698$block_0$RUBY$__file__.call(rubyjit$Proc$$to_lambda_C8087DD3DC64F6B28CB4532D1E340389A04240B6799593698$block_0$RUBY$__file__)
org.jruby.runtime.CompiledBlock19.yield(CompiledBlock19.java:159)
org.jruby.runtime.CompiledBlock19.call(CompiledBlock19.java:87)
org.jruby.runtime.Block.call(Block.java:101)
org.jruby.RubyProc.call(RubyProc.java:274)
org.jruby.RubyProc.call(RubyProc.java:215)
org.jruby.javasupport.JavaUtil$1.call(JavaUtil.java:240)
org.jruby.runtime.Helpers$MethodMissingMethod.call(Helpers.java:426)
org.jruby.gen.InterfaceImpl1783057581.run(org/jruby/gen/InterfaceImpl1783057581.gen:13)
java.lang.Thread.run(Thread.java:724)
Cause:
2017-10-30 17:28:12,218 [INFO] -- Кайен объект сущности РеестрЗапросов не был создан. Канал SPV3929_CAR_DISLOCATION_DATA прекращает работу до следующей попытки.
2017-10-30 17:28:12,219 [WARN] -- SPV3929_CAR_DISLOCATION_DATA. resultSet == null
2017-10-30 17:28:12,220 [INFO] -- Изменилось состояние SPV3929_CAR_DISLOCATION_DATA на STOPPED
2017-10-30 17:28:12,222 [INFO] -- Завершена работа SPV3929_CAR_DISLOCATION_DATA
2017-10-30 17:28:13,781 [DEBUG] -- Канал ETRAN_NSI_DOC. Записей прочитано: 1, добавлено в очередь: 1
2017-10-30 17:28:13,825 [INFO] -- 0 notifications
2017-10-30 17:28:13,825 [INFO] -- 4 invoices
2017-10-30 17:28:13,826 [INFO] -- 0 claims